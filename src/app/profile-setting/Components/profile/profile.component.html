<section>
  <form (submit)="save($event)">
    <div class="basics mb-4" [formGroup]="this.informationForm">
      <h2>Information</h2>
      <h4>Basics</h4>
      <div class="form-outline mb-4">
        <input
          type="text"
          placeholder="First Name"
          formControlName="firstName"
          [readOnly]="saving"
        />
      </div>
      <div
        *ngIf="firstName?.invalid && firstName?.touched"
        style="color: red; font-size: 15px; margin-top: -20px"
        class="mb-1"
      >
        <span *ngIf="firstName?.errors?.['required']"
          >Firstname is required</span
        >
        <span *ngIf="firstName?.errors?.['pattern']"
          >Should be between 3 to 30 characters</span
        >
      </div>
      <div class="form-outline mb-4">
        <input
          type="text"
          placeholder="Last Name"
          formControlName="lastName"
          [readOnly]="saving"
        />
      </div>
      <div
        *ngIf="lastName?.invalid && lastName?.touched"
        style="color: red; font-size: 15px; margin-top: -20px"
        class="mb-1"
      >
        <span *ngIf="lastName?.errors?.['required']">Lastname is required</span>
        <span *ngIf="lastName?.errors?.['pattern']"
          >Should be between 3 to 30 characters</span
        >
      </div>
      <!-- <div class="form-outline mb-4">
        <input type="text" placeholder="Professional Headline" formControlName="professionalHeadline" [readOnly]="saving"/>
      </div> -->
      <!-- <div *ngIf="professionalHeadline?.invalid && professionalHeadline?.touched" style="color: red; font-size: 15px; margin-top: -20px;" class="mb-1">
        <span *ngIf="professionalHeadline?.errors?.['required']">LastName is required</span>
        <span *ngIf="professionalHeadline?.errors?.['pattern']">Should be between 3 to 10 characters</span>
      </div> -->
      <div [ngClass]="{'form-outline mb-4 d-flex flex-column bio':true, 'send': saving}">
        <div>
          <span (click)="bold(textarea)">B</span>
          <span (click)="italic(textarea)">I</span>
        </div>
        <textarea #textarea placeholder="Personal biography" formControlName="bio"  [readOnly]="saving || bioLength == 100" (input)="lengthBio(textarea)" (paste)="lengthBio(textarea)"></textarea>
        <span class="number">{{bioLength}} / 1000</span>
      </div>
    </div>
    <div class="links" [formGroup]="this.linksForm">
      <h2>Personal Links</h2>
      <h4>Links</h4>
      <ng-container *ngFor="let account of accounts">
        <div class="form-outline mb-4 website order-1" *ngIf="account.accountDomain == 'other'; else alternateContent">
          <input
            type="text"
            placeholder="Website (http(s)://...)"
            formControlName="Website"
            [readOnly]="saving"
          />
        </div>
        <ng-template #alternateContent>
          <div [ngClass]="{'form-outline mb-4 order-2':true, 'send': saving}">
            <span>{{account.accountDomain}}</span>
            <input
              type="text"
              [placeholder]="account.accountName + ' Profile'"
              [formControlName]="account.accountName"
              [readOnly]="saving"
            />
          </div>
        </ng-template>
      </ng-container>
    </div>
    <div class="btns">
      <a routerLink="/studentDetails" class="profile">View public profile</a>
      <button type="submit" class="save" [ngClass]="{'send': saving}">
        <span>Save</span>
      </button>
    </div>
  </form>
</section>
